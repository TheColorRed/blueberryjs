<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Canvas Example</title>
    <script src="/blueberryjs/blueberry.js"></script>
    <script src="/blueberryjs/canvas.js"></script>
    <style>
        body, html { padding: 0; margin: 0; width: 100vw; height: 100vh; }
        * { box-sizing: border-box; }
    </style>
    <script>
        Blueberry.register(
            class Move extends Canvas.Behavior {
                constructor() {
                    super();
                    this.speed = 1;
                    this.text = null;
                }
                ready() {
                    this.text = Canvas.findObjectOfType(Canvas.UI.Text);
                }
                update() {
                    let horizontal = Canvas.Input.getAxis('horizontal') * this.speed;
                    let vertical = Canvas.Input.getAxis('vertical') * this.speed;
                    this.transform.translate(horizontal, vertical);
                    this.text.transform.position = new Vector2(this.transform.position.x, this.transform.position.y - 20);
                }
            }
        ).on('ready', evt => {
            let go = new Canvas.GameObject;
            let txt = new Canvas.GameObject;

            // Init the sprite renderer
            let spr = go.addComponent(Canvas.Renderer.Sprite);
            spr.sprite = new Canvas.Sprite('./skeleton.png');

            // Init the Move Component
            let move = go.addComponent(Move);

            // txt.addComponent(Canvas.Renderer.UI);
            let txtC = txt.addComponent(Canvas.UI.Text);
            txtC.text = 'Hello World';
        });
    </script>
</head>
<body>
    <canvas></canvas>
</body>
</html>